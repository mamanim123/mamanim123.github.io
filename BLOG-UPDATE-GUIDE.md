# 🎯 청담재활 블로그 스마트 자동 업데이트 가이드

새 블로그 글이 올라올 때마다 **더블클릭 한 번**으로 웹사이트를 스마트하게 업데이트할 수 있습니다!

## 🚀 초간단 사용법

### 🆕 새로운 배치파일 시스템 (Windows)

#### **첫 번째 사용**
```
scripts/setup-first-time.bat 더블클릭
```

#### **일반적인 업데이트**
```
scripts/update-blog-quick.bat 더블클릭
```

#### **완전 자동화 (동기화+업데이트+업로드)**
```
scripts/sync-and-update.bat 더블클릭
```

### 🔧 수동 실행 (고급 사용자)
```bash
node update-blog-efficient.js
```

## 📋 스마트 자동화 작업들

### 🧠 **지능형 분석 시스템**
1. **📋 현재 센터소식 분석**: HTML에서 현재 표시된 블로그 글들 확인
2. **📡 RSS 피드 수집**: 네이버 블로그에서 최신 글들 가져오기
3. **🔍 스마트 비교**: 새로운 글만 정확히 감지

### ⚡ **효율적 처리 시스템**
4. **📸 필요한 만큼만 이미지 생성**: 새 글 1개면 1개만, 2개면 2개만
5. **🆔 블로그 ID 기반 파일명**: 223928716039.png 형식으로 명확한 식별
6. **💾 기존 파일 완전 보존**: 덮어쓰기 없이 안전하게 누적

### 🖥️ **자동 웹사이트 업데이트**
7. **📝 HTML 스마트 업데이트**: 항상 최신 3개 글만 표시
8. **🔄 Git 관리**: 변경사항 자동 커밋 및 푸시 (선택적)

## 🛠️ 설치 요구사항

- **Node.js 18+** (https://nodejs.org)
- **Git** (버전 관리용)

## 📁 생성되는 파일들

- `images/223928716039.png` - 블로그 ID 기반 이미지 (요리 체험 활동)
- `images/223920577668.png` - 블로그 ID 기반 이미지 (생신 잔치)  
- `images/223898944941.png` - 블로그 ID 기반 이미지 (삼겹살 파티)
- `index.html` - 업데이트된 메인 페이지

**🆔 파일명 규칙**: 블로그 URL의 ID와 정확히 일치
- `blog.naver.com/chungdam311/223928716039` → `223928716039.png`

## 🔧 수동 실행 방법

```bash
# 1. 패키지 설치
npm install

# 2. 블로그 업데이트 실행
node update-blog.js

# 3. Git 커밋 (선택사항)
git add .
git commit -m "블로그 업데이트: [새 글 제목]"
git push origin test
```

## ⚙️ 설정 변경

`update-blog.js` 파일에서 다음 설정을 변경할 수 있습니다:

```javascript
const CONFIG = {
    BLOG_RSS_URL: 'https://rss.blog.naver.com/chungdam311.xml',
    MAX_POSTS: 3,           // 표시할 글 개수
    IMAGE_WIDTH: 400,       // 이미지 너비
    IMAGE_HEIGHT: 280,      // 이미지 높이
    CROP_SELECTOR: '.se-main-container', // 크롭할 영역
    BACKUP_IMAGE: './images/blog-post-2-improved.png' // 대체 이미지
};
```

## 🐛 문제 해결

### "playwright 설치 오류"
```bash
npx playwright install
```

### "이미지 생성 실패"  
- 네트워크 연결 확인
- 블로그 접근 권한 확인
- 대체 이미지가 자동 사용됨

### "HTML 업데이트 실패"
- `index.html` 파일 권한 확인
- 백업 파일에서 복원

## 🎉 사용 예시

```bash
$ npm run update

🎯 청담재활 블로그 자동 업데이트 시작!

📡 RSS에서 최신 블로그 포스트 가져오는 중...
✅ 3개 포스트 가져옴:
   1. 청담재활 2분기 생신 잔치!! (2025.07.03)
   2. 청담재활 삼겹살 파티~~~ (2025.06.14)  
   3. 청담재활주간보호센터 어버이날 행사~~~!! (2025.05.14)

📸 블로그 포스트 이미지 촬영 중...
   📷 청담재활 2분기 생신 잔치!! 스크린샷 촬영...
   ✅ 223920577668.png 생성 완료
   📷 청담재활 삼겹살 파티~~~ 스크린샷 촬영...
   ✅ 223898944941.png 생성 완료
   📷 청담재활주간보호센터 어버이날 행사~~~!! 스크린샷 촬영...
   ✅ 223865345360.png 생성 완료

📝 index.html 파일 업데이트 중...
✅ index.html 업데이트 완료

🔄 Git 커밋 준비 중...
📋 변경된 파일들:
M  index.html
A  images/223920577668.png
A  images/223898944941.png  
A  images/223865345360.png

🚀 Git 커밋을 위해 다음 명령어를 실행하세요:
   git add .
   git commit -m "블로그 업데이트: 청담재활 2분기 생신 잔치!!"
   git push origin test

🎉 블로그 업데이트 완료!
   브라우저에서 index.html을 열어 결과를 확인하세요.
```

---

## 💡 팁

- **정기 실행**: 매주 또는 매월 정기적으로 실행하면 항상 최신 상태 유지
- **이미지 품질**: 스크린샷이 마음에 안 들면 수동으로 교체 가능
- **Git 연동**: GitHub Pages와 연동하면 자동 배포까지 완성!